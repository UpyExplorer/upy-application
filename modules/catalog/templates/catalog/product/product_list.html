{% extends "layouts/default/container.html" %}

{% load static %}
{% load bootstrap5 %}
{% load i18n %}

{% get_current_language as language_code %}

{% block option %}

	<div class="col-12 grid-margin stretch-card" style="margin-bottom: 15px;">
		<div class="card">
			<div class="card-body" style="padding-bottom: 15px; padding-top: 15px;">
				<div class="container">
					<div class="row">
						<div class="col-12">

							{% if perms.global_permissions.app_catalog_product_read %}
								<button 
									type="button"
									id="btnInfo"
									class="btn btn-primary btn-sm"
									data-toggle="tooltip" data-placement="top" title="{{ view_info }}"
									style="float: right; background: #3243c5;border-color: #3243c5; margin-right: 5px;">
									<i class="mdi mdi-comment-question-outline"></i>
								</button>
							{% endif %}

							{% if perms.global_permissions.app_catalog_product_update %}
								<a href="{% url 'catalog:product_create' %}" type="button" class="btn btn-warning btn-sm" title="{% trans 'Add Product' %}" style="float: right; margin-right: 5px; color: #ffffff;">
									<i class="mdi mdi-plus-box"></i> 
								</a>
							{% endif %}
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

{% endblock %}

{% block container %}

	{% if product_list %}
		<div class="table-responsive text-nowrap">
			<div id="order-listing_wrapper" class="dataTables_wrapper container-fluid dt-bootstrap5 no-footer" style="padding-left: 0px !important;">
				<div class="row">
					<div class="col-sm-12">
						<table class="table table-striped dataTable"> 
							<thead>
								<tr role="row">
									<th width="40%" style="padding-bottom: 10px; padding-top: 10px;">{% trans 'Name' %}</th>
									<th width="20%" style="padding-bottom: 10px; padding-top: 10px;">{% trans 'Sku' %}</th>
									<th width="20%" style="padding-bottom: 10px; padding-top: 10px;">{% trans 'Price Sell' %}</th>
									<th width="20%" style="padding-bottom: 10px; padding-top: 10px;">{% trans 'Stock' %}</th>
									<th width="15%" style="padding-bottom: 10px; padding-top: 10px;">{% trans 'Created In' %}</th>
									<th></th>
								</tr>
								</thead>
								<tbody>
									{% for product in product_list %}
									<tr>
										<td class="py-1">
											<div class="email-wrapper wrapper">
												<div class="row align-items-stretch">
													<div class="mail-list-container border-right">
														<div class="mail-list">
															<div class="form-check">
																<label class="form-check-label">
																	<input type="checkbox" class="form-check-input"> <i class="input-helper"></i>
																</label>
															</div>
															<div class="content" style="margin-left: 10px; margin-top: 3px;">
																<span>
																	{% if product.active %}
																		<img src="{% static 'media/icon/icon-product.png' %}"
																		style="width: 35px !important;">
																	{% else %}
																		<img src="{% static 'media/icon/icon-product.png' %}"
																		style="width: 35px !important; filter: grayscale(1);">
																	{% endif %}
																</span>
															</div>
															
															<div class="content"style="margin-left: 10px;">
																<p class="sender-name">
																	{{ product.name }}
																</p>
															</div>
														</div>
													</div>
												</div>
											</div>
										</td>
										<td>{{ product.sku }}</td>
										<td>{% trans '$' %} {{ product.price_sell|floatformat:2 }}</td>
										<td>{{ product.stock|floatformat:-2 }}</td>
										<td>{{ product.creation_time|date:"M d, Y" }}</td>
										<td>
											<div class="btn-group">
												<button type="button" class="btn btn-sm btn-outline-secondary dropdown-toggle" data-toggle="dropdown" aria-expanded="false">{% trans 'Options' %}</button>
												<div class="dropdown-menu" x-placement="bottom-start">
													<a class="dropdown-item" style="cursor: pointer;" href="{{ product.get_absolute_url }}">{% trans 'View' %}</a>
													<a class="dropdown-item" style="cursor: pointer;">{% trans 'Edit' %}</a>
												</div>                          
											</div>
										</td>
								</tr>
								{% endfor %}
							</tbody>
						</table>
					</div>
				</div>

			</div>
			
		</div>
		{% block pagination %}
			{% include "layouts/modules/pagination.html" %}
		{% endblock %}

	{% else %}
		<p>No products found in your database.</p>
	{% endif %}

{% endblock %}